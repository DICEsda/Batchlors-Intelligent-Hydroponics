@use 'sass:color';

// Variables
$card-radius: 0.75rem;
$transition-fast: 150ms ease;
$transition-normal: 200ms ease;

// Dark theme colors matching sidebar
$bg-primary: #0f1419;
$bg-secondary: #1a1f2e;
$bg-card: #1e2433;
$bg-hover: #252b3b;
$border-color: #2a3142;
$text-primary: #ffffff;
$text-secondary: #8b949e;
$accent-blue: #3b82f6;
$accent-green: #22c55e;
$accent-red: #ef4444;
$accent-yellow: #eab308;

.farm-overview {
  padding: 1.5rem;
  background: $bg-primary;
  min-height: 100%;
}

// Dashboard Grid Layout
.dashboard-grid {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.top-row {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
}

.bottom-row {
  display: flex;
}

// Dashboard Cards
.dashboard-card {
  background: $bg-card;
  border: 1px solid $border-color;
  border-radius: $card-radius;
  overflow: hidden;
  transition: all $transition-normal;

  &:hover {
    border-color: color.adjust($border-color, $lightness: 10%);
  }

  &.has-alerts {
    border-color: rgba($accent-red, 0.5);
  }

  &.large-card {
    flex: 1;
  }
}

.card-inner {
  padding: 1.5rem;
}

.full-skeleton {
  width: 100%;
  height: 120px;
  background: $bg-hover;
  border-radius: 0.5rem;
}

// Card Content (Top Row Cards)
.card-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.card-header-section {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}

.stat-icon {
  width: 3rem;
  height: 3rem;
  border-radius: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  
  &.coordinators {
    background: rgba($accent-blue, 0.15);
    color: $accent-blue;
  }

  &.towers {
    background: rgba($accent-green, 0.15);
    color: $accent-green;
  }

  &.alerts {
    background: rgba($text-secondary, 0.15);
    color: $text-secondary;

    &.critical {
      background: rgba($accent-red, 0.15);
      color: $accent-red;
    }
  }
}

.status-badge {
  font-size: 0.75rem;
  padding: 0.25rem 0.5rem;
}

.stat-info {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: $text-secondary;
  font-weight: 500;
}

.stat-value {
  font-size: 1.75rem;
  font-weight: 700;
  color: $text-primary;
}

.stat-description {
  font-size: 0.75rem;
  color: $text-secondary;
}

// Large Card Content
.large-card-content {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 1rem;
  border-bottom: 1px solid $border-color;
}

.section-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: $text-primary;
  margin: 0;
}

.section-actions {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.connection-badge {
  display: flex;
  align-items: center;
  gap: 0.375rem;
}

// Error Banner
.error-banner {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  background: rgba($accent-red, 0.1);
  border: 1px solid rgba($accent-red, 0.3);
  border-radius: 0.5rem;
  color: $accent-red;
}

// Empty State
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 3rem 1.5rem;
  background: rgba($bg-hover, 0.5);
  border-radius: $card-radius;
  border: 2px dashed $border-color;
  text-align: center;
  color: $text-secondary;

  h3 {
    margin: 1rem 0 0.5rem;
    color: $text-primary;
  }

  p {
    margin: 0 0 1.5rem;
  }
}

// Devices Overview
.devices-overview {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2rem;
}

.device-section {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.device-section-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: $text-secondary;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0;
}

.device-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.device-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1rem;
  background: $bg-secondary;
  border: 1px solid $border-color;
  border-radius: 0.5rem;
  text-decoration: none;
  color: inherit;
  transition: all $transition-fast;

  &:hover {
    background: $bg-hover;
    border-color: $accent-blue;
  }
}

.device-info {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.device-name {
  font-weight: 500;
  color: $text-primary;
}

.device-meta {
  font-size: 0.75rem;
  color: $text-secondary;
}

.view-all-link {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  padding: 0.5rem;
  color: $accent-blue;
  font-size: 0.875rem;
  text-decoration: none;
  transition: color $transition-fast;

  &:hover {
    color: color.adjust($accent-blue, $lightness: 10%);
  }
}

// Alerts Section
.alerts-section {
  border-top: 1px solid $border-color;
  padding-top: 1.5rem;
}

.alerts-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-top: 0.75rem;
}

.alert-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  background: $bg-secondary;
  border: 1px solid $border-color;
  border-radius: 0.5rem;
  border-left: 3px solid transparent;

  &.alert-critical {
    border-left-color: $accent-red;
    background: rgba($accent-red, 0.05);
  }

  &.alert-warning {
    border-left-color: $accent-yellow;
    background: rgba($accent-yellow, 0.05);
  }

  &.alert-info {
    border-left-color: $accent-blue;
    background: rgba($accent-blue, 0.05);
  }

  .alert-info {
    flex: 1;
    min-width: 0;
  }

  .alert-message {
    display: block;
    font-weight: 500;
    font-size: 0.875rem;
    color: $text-primary;
  }

  .alert-meta {
    display: block;
    font-size: 0.75rem;
    color: $text-secondary;
    margin-top: 0.25rem;
  }
}

// Responsive adjustments
@media (max-width: 1024px) {
  .top-row {
    grid-template-columns: repeat(2, 1fr);
  }

  .devices-overview {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .farm-overview {
    padding: 1rem;
  }

  .top-row {
    grid-template-columns: 1fr;
  }

  .section-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }

  .section-actions {
    width: 100%;
    justify-content: space-between;
  }
}
